{"version":3,"file":"index.js","sources":["../src/js/render-functions.js","../src/js/pixabay-api.js","../src/main.js"],"sourcesContent":["export const createGalleryCardTemplate = imgArr => {\n  return imgArr.reduce((acc, el) => {\n    return (\n      acc +\n      `\n      <li class=\"gallery-card\">\n        <a class=\"gallery-link\" href=\"${el.largeImageURL}\">\n          <img class=\"gallery-img\" src=\"${el.webformatURL}\" alt=\"${el.tags}\" />\n        </a>\n        <div class=\"gallery-info\">\n          <p><span>Likes:</span> ${el.likes}</p>\n          <p><span>Views:</span> ${el.views}</p>\n          <p><span>Comments:</span> ${el.comments}</p>\n          <p><span>Downloads:</span> ${el.downloads}</p>\n        </div>\n      </li>\n    `\n    );\n  }, '');\n};\n","export const fetchPhotosByQuery = searchQuery => {\n  return fetch(\n    `https://pixabay.com/api/?key=47683521-7bc13f64e806eb93b38e1f294&q=${searchQuery}&image_type=photo&orientation=horizontal&safesearch=true`\n  ).then(response => {\n    if (!response.ok) {\n      throw new Error(response.status);\n    }\n\n    return response.json();\n  });\n};\n","import iziToast from 'izitoast';\nimport SimpleLightbox from 'simplelightbox';\n\nimport { createGalleryCardTemplate } from './js/render-functions';\nimport { fetchPhotosByQuery } from './js/pixabay-api';\n\nconst searchFormEl = document.querySelector('.js-search-form');\nconst galleryEl = document.querySelector('.js-gallery');\nconst loaderEl = document.querySelector('.js-loader');\n\nlet lightbox;\n\nconst onSearchFormSubmit = event => {\n  event.preventDefault();\n\n  const inputValue = event.currentTarget.elements.user_query.value.trim();\n\n  if (inputValue === '') {\n    iziToast.error({\n      message: 'Please enter a search word',\n      position: 'topRight',\n      timeout: 3000,\n    });\n\n    return;\n  }\n\n  galleryEl.innerHTML = '';\n\n  loaderEl.classList.remove('is-hidden');\n\n  fetchPhotosByQuery(inputValue)\n    .finally(() => {\n      loaderEl.classList.add('is-hidden');\n    })\n    .then(data => {\n      if (data.total === 0) {\n        iziToast.error({\n          message:\n            'Sorry, there are no images matching your search query. Please try again!',\n          position: 'topRight',\n          timeout: 3000,\n        });\n\n        galleryEl.innerHTML = '';\n\n        return;\n      }\n\n      galleryEl.innerHTML = createGalleryCardTemplate(data.hits);\n      if (!lightbox) {\n        lightbox = new SimpleLightbox('.gallery-link', {\n          captions: true,\n          captionsData: 'alt',\n          captionDelay: 250,\n        });\n      } else {\n        lightbox.refresh();\n      }\n    })\n    .catch(err => {\n      console.log(err);\n    });\n};\n\nsearchFormEl.addEventListener('submit', onSearchFormSubmit);\n"],"names":["createGalleryCardTemplate","imgArr","acc","el","fetchPhotosByQuery","searchQuery","response","searchFormEl","galleryEl","loaderEl","lightbox","onSearchFormSubmit","event","inputValue","iziToast","data","SimpleLightbox","err"],"mappings":"6vBAAO,MAAMA,EAA4BC,GAChCA,EAAO,OAAO,CAACC,EAAKC,IAEvBD,EACA;AAAA;AAAA,wCAEkCC,EAAG,aAAa;AAAA,0CACdA,EAAG,YAAY,UAAUA,EAAG,IAAI;AAAA;AAAA;AAAA,mCAGvCA,EAAG,KAAK;AAAA,mCACRA,EAAG,KAAK;AAAA,sCACLA,EAAG,QAAQ;AAAA,uCACVA,EAAG,SAAS;AAAA;AAAA;AAAA,MAK9C,EAAE,EClBMC,EAAqBC,GACzB,MACL,qEAAqEA,CAAW,0DACpF,EAAI,KAAKC,GAAY,CACjB,GAAI,CAACA,EAAS,GACZ,MAAM,IAAI,MAAMA,EAAS,MAAM,EAGjC,OAAOA,EAAS,MACpB,CAAG,ECHGC,EAAe,SAAS,cAAc,iBAAiB,EACvDC,EAAY,SAAS,cAAc,aAAa,EAChDC,EAAW,SAAS,cAAc,YAAY,EAEpD,IAAIC,EAEJ,MAAMC,EAAqBC,GAAS,CAClCA,EAAM,eAAc,EAEpB,MAAMC,EAAaD,EAAM,cAAc,SAAS,WAAW,MAAM,OAEjE,GAAIC,IAAe,GAAI,CACrBC,EAAS,MAAM,CACb,QAAS,6BACT,SAAU,WACV,QAAS,GACf,CAAK,EAED,MACD,CAEDN,EAAU,UAAY,GAEtBC,EAAS,UAAU,OAAO,WAAW,EAErCL,EAAmBS,CAAU,EAC1B,QAAQ,IAAM,CACbJ,EAAS,UAAU,IAAI,WAAW,CACxC,CAAK,EACA,KAAKM,GAAQ,CACZ,GAAIA,EAAK,QAAU,EAAG,CACpBD,EAAS,MAAM,CACb,QACE,2EACF,SAAU,WACV,QAAS,GACnB,CAAS,EAEDN,EAAU,UAAY,GAEtB,MACD,CAEDA,EAAU,UAAYR,EAA0Be,EAAK,IAAI,EACpDL,EAOHA,EAAS,QAAO,EANhBA,EAAW,IAAIM,EAAe,gBAAiB,CAC7C,SAAU,GACV,aAAc,MACd,aAAc,GACxB,CAAS,CAIT,CAAK,EACA,MAAMC,GAAO,CACZ,QAAQ,IAAIA,CAAG,CACrB,CAAK,CACL,EAEAV,EAAa,iBAAiB,SAAUI,CAAkB"}